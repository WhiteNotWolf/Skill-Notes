<<<<<<< HEAD
### 计算机网络知识整理
1. HTTP1.1和HTTP2.0的区别：
    * http2.0采用的是二进制格式而不是文本格式，二进制解析起来更高效，更重要的是错误更少
    * http2是完全的多路复用而不是http1.1的流水线模式，能够处理多个请求和响应，而1.1只能一个个的处理(流水线)，其他的请求会阻塞
    * http2采用了报头压缩，降低了开销
    * http2可以让服务器主动进行推送，服务器可以推送那些它认为客户端可能会需要的文件到客户端的缓存中，这样可以降低延迟。

2. FTP协议和http协议的区别
    * HTTP是超文本传输协议，是面向网页的；FTP是文件传输协议，是面向文件的
    * HTTP协议默认端口：80号端口。FTP协议默认端口：21号端口。
    * FTP的控制信息是带外（out-of-band）传送的，而HTTP的控制信息是带内（in-band）传送的。  FTP使用两个并行的TCP连接来传输文件，一个是 控制连接（control connection），一个是 数据连接（data connection）,控制连接用于在两个主机之间传输控制信息，如用户标识、口令、改变远程目录的命令以及“put”和“get”文件的命令,数据连接用于实际传输一个文件
    * FTP服务器必须在整个会话期间保留用户的状态（state）信息，而HTTP是无状态的。FTP服务器必须把特定的用户账户与控制连接联系起来，随着用户在远程目录树上移动，服务器必须追踪用户在远程目录树上的当前位置。对每个活动着的用户会话的状态进行追踪，可以对FTP会话总数进行限制.
    * FTP的控制连接是持久连接，数据连接是非持久连接；而HTTP既可以使用非持久连接，也可以使用持久连接，默认方式下，HTTP使用持久连接。 当用户主机与远程主机开始一个FTP会话前，FTP的客户机（用户）首先在21号端口上发起一个用于控制的与服务器（远程主机）的TCP连接。FTP的客户机通过该控制连接，发送用户的标识和口令，也发送改变远程目录的命令。 
        1）FTP的PORT（主动式）工作方式：当需要传送数据时，客户端在控制连接链路上用PORT命令告诉服务器：“我打开了XXXX端口，你过来连接我”。于是服务器从20端口向客户端的XXXX端口发送连接请求，建立一条数据连接链路来传送数据
        2）FTP的PASV（被动式）工作方式：当需要传送数据时，服务器在控制连接链路上用PASV命令告诉客户端：“我打开了XXXX端口，你过来连接我”。于是客户端向服务器的XXXX端口发送连接请求，建立一条数据连接链路来传送数据。
        如果在同一个会话期间，用户还需要传输另一个文件，FTP则打开另一个数据连接,  因此，FTP的控制连接贯穿了整个用户会话期间，但是针对会话中的每一次文件传输，都需要建立一个新的数据连接。故，控制连接是持久连接，而数据连接是非持久连接。  
 
3. HTTP是无状态的，如何保证它的状态连接
    >HTTP作为无状态协议，必然需要在某种方式保持连接状态。这里简要介绍一下Cookie和Session。
    * Cookie是客户端保持状态的方法。Cookie简单的理解就是存储由服务器发至客户端并由客户端保存的一段字符串。为了保持会话，服务器可以在响应客户端请求时将Cookie字符串放在Set-Cookie下，客户机收到Cookie之后保存这段字符串，之后再请求时候带上Cookie就可以被识别。
    除了上面提到的这些，Cookie在客户端的保存形式可以有两种，一种是会话Cookie一种是持久Cookie，会话Cookie就是将服务器返回的Cookie字符串保持在内存中，关闭浏览器之后自动销毁，持久Cookie则是存储在客户端磁盘上，其有效时间在服务器响应头中被指定，在有效期内，客户端再次请求服务器时都可以直接从本地取出。需要说明的是，存储在磁盘中的Cookie是可以被多个浏览器代理所共享的。
    * Session是服务器保持状态的方法。首先需要明确的是，Session保存在服务器上，可以保存在数据库、文件或内存中，每个用户有独立的Session用户在客户端上记录用户的操作。我们可以理解为每个用户有一个独一无二的Session ID作为Session文件的Hash键，通过这个值可以锁定具体的Session结构的数据，这个Session结构中存储了用户操作行为。
    当服务器需要识别客户端时就需要结合Cookie了。每次HTTP请求的时候，客户端都会发送相应的Cookie信息到服务端。实际上大多数的应用都是用Cookie来实现Session跟踪的，第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在Cookie里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器，我就知道你是谁了。
    如果客户端的浏览器禁用了Cookie，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如sid=xxxxx这样的参数，服务端据此来识别用户，这样就可以帮用户完成诸如用户名等信息自动填入的操作了。

4. HTTPS,SSL/TLS握手的过程
    SSL/TLS:SSL 是洋文“Secure Sockets Layer”的缩写，中文叫做“安全套接层”。它是在上世纪90年代中期，由网景公司设计的。到了1999年，SSL 因为应用广泛，已经成为互联网上的事实标准。IETF 就在那年把 SSL 标准化。标准化之后的名称改为 TLS（是“Transport Layer Security”的缩写），中文叫做“传输层安全协议”。很多相关的文章都把这两者并列称呼（SSL/TLS），因为这两者可以视作同一个东西的不同阶段。
    HTTPS在进行三次握手建立连接之后还要进行SSL/TLS握手：
    客户端向服务端发生一个client hello明文信息，client hello中主要包含TLS/SSL协议版本，加密套件候选表，压缩算法候选表，客户端随机数，扩展字段等信息。然后服务端回复一个Server hello，返回服务端商议的结果，包含选择的协议版本，加密套件，压缩算法和服务端随机数。然后服务端向客户端发送CA证书，然后发送Server hello done通知客户端Server hello信息发送完毕。客户端会验证证书的合法性，如果验证通过会进行后续的通信，没有通过的话会根据错误信息给出提示。客户端会计算出一个pre-master secret(公共密匙)，然后用证书公匙加密，发送给服务器，并通知服务器后续的通信都将采用协商的密匙和加密算法进行通信。然后结合之前的各种参数，hash值和其他参数产生一段数据，用密匙加密后发送给服务端用于数据验证。服务端解密出pre-master secret数据，基于之前交换的两个明文随机数，计算得到协商密匙，然后计算之前所有的接受信息，解密客户端发送的验证数据，验证数据和密匙的正确性。验证通过后，服务端会回复一个确认，告知客户端后续的通信都将采用协商的密匙与算法进行加密通信。然后服务端也会用收集到的信息加密产生一段数据，发送给客户端。客户端收到数据后进行验证，验证通过则握手完成。

5. ping和tracert实现的原理
    * ping: ping是发射一个ICMP echo请求到目的地址，当目的地址收到这个ICMP echo之后，把目的ip地址和源ip地址进行一个交换，然后回射回去。
    * tracert:Tracert 命令用IP生存时间(TTL)字段和ICMP错误消息来确定从一个主机到网络上其他主机会经过哪些路由，首先tracert会送出以TTL为1的IP数据包到目的地，当路径上的第一个路由器收到这个数据包时，它将TTL减1。此时，TTL变为0，所以该路由器会将此数据包丢掉，并送回一个「ICMP time exceeded」消息（包括发IP包的源地址，IP包的所有内容及路由器的IP地址），tracert 收到这个消息后，便知道这个路由器存在于这个路径上，接着tracert再送出另一个TTL是2的数据包，发现第2个路由器......tracert每次将送出的数据包的TTL加1来发现下一个路由器，当数据包到达目的地后，该主机则不会送回ICMP time exceeded消息，一旦到达目的地，由于tracert通过UDP数据包向不常见端口(30000以上)发送数据包，因此会收到「ICMP port unreachable」消息，故可判断到达目的地。tracert 有一个固定的时间等待响应(ICMP TTL到期消息)。如果这个时间过了，它将打印出一系列的*号表明：在这个路径上，这个设备不能在给定的时间内发出ICMP TTL到期消息的响应。然后，Tracert给TTL记数器加1，继续进行。
    * ping可以用来判断一个ip地址是否处于联通状态，tracert可以用来判定网络中哪一环出现了问题，如果某一节点能成功到，而后面的全部超时，可以判断得出，这一节点的下一节点出现问题。tracert中出现超时，下一跳仍能成功的原因是可能这一个节点禁止了对超时ip数据报做处理，但是仍然能正常的转发。


5. 物理层
    * 以太网协议
6. 数据链路层
    * ppp协议
7. 网络层
    * IP
    * ARP、RARP
    * ICMP--ping和tracert
8. 传输层
    * TCP、UDP
9. 应用层
    * HTTP、HTTPS、FTP、SMTP
=======
### 计算机网络知识整理
1. HTTP1.1和HTTP2.0的区别：
    * http2.0采用的是二进制格式而不是文本格式，二进制解析起来更高效，更重要的是错误更少
    * http2是完全的多路复用而不是http1.1的流水线模式，能够处理多个请求和响应，而1.1只能一个个的处理(流水线)，其他的请求会阻塞
    * http2采用了报头压缩，降低了开销
    * http2可以让服务器主动进行推送，服务器可以推送那些它认为客户端可能会需要的文件到客户端的缓存中，这样可以降低延迟。

2. FTP协议和http协议的区别
    * HTTP是超文本传输协议，是面向网页的；FTP是文件传输协议，是面向文件的
    * HTTP协议默认端口：80号端口。FTP协议默认端口：21号端口。
    * FTP的控制信息是带外（out-of-band）传送的，而HTTP的控制信息是带内（in-band）传送的。  FTP使用两个并行的TCP连接来传输文件，一个是 控制连接（control connection），一个是 数据连接（data connection）,控制连接用于在两个主机之间传输控制信息，如用户标识、口令、改变远程目录的命令以及“put”和“get”文件的命令,数据连接用于实际传输一个文件
    * FTP服务器必须在整个会话期间保留用户的状态（state）信息，而HTTP是无状态的。FTP服务器必须把特定的用户账户与控制连接联系起来，随着用户在远程目录树上移动，服务器必须追踪用户在远程目录树上的当前位置。对每个活动着的用户会话的状态进行追踪，可以对FTP会话总数进行限制.
    * FTP的控制连接是持久连接，数据连接是非持久连接；而HTTP既可以使用非持久连接，也可以使用持久连接，默认方式下，HTTP使用持久连接。 当用户主机与远程主机开始一个FTP会话前，FTP的客户机（用户）首先在21号端口上发起一个用于控制的与服务器（远程主机）的TCP连接。FTP的客户机通过该控制连接，发送用户的标识和口令，也发送改变远程目录的命令。 
        1）FTP的PORT（主动式）工作方式：当需要传送数据时，客户端在控制连接链路上用PORT命令告诉服务器：“我打开了XXXX端口，你过来连接我”。于是服务器从20端口向客户端的XXXX端口发送连接请求，建立一条数据连接链路来传送数据
        2）FTP的PASV（被动式）工作方式：当需要传送数据时，服务器在控制连接链路上用PASV命令告诉客户端：“我打开了XXXX端口，你过来连接我”。于是客户端向服务器的XXXX端口发送连接请求，建立一条数据连接链路来传送数据。
        如果在同一个会话期间，用户还需要传输另一个文件，FTP则打开另一个数据连接,  因此，FTP的控制连接贯穿了整个用户会话期间，但是针对会话中的每一次文件传输，都需要建立一个新的数据连接。故，控制连接是持久连接，而数据连接是非持久连接。  

3. HTTP是无状态的，如何保证它的状态连接
    >HTTP作为无状态协议，必然需要在某种方式保持连接状态。这里简要介绍一下Cookie和Session。
    * Cookie是客户端保持状态的方法。Cookie简单的理解就是存储由服务器发至客户端并由客户端保存的一段字符串。为了保持会话，服务器可以在响应客户端请求时将Cookie字符串放在Set-Cookie下，客户机收到Cookie之后保存这段字符串，之后再请求时候带上Cookie就可以被识别。
    除了上面提到的这些，Cookie在客户端的保存形式可以有两种，一种是会话Cookie一种是持久Cookie，会话Cookie就是将服务器返回的Cookie字符串保持在内存中，关闭浏览器之后自动销毁，持久Cookie则是存储在客户端磁盘上，其有效时间在服务器响应头中被指定，在有效期内，客户端再次请求服务器时都可以直接从本地取出。需要说明的是，存储在磁盘中的Cookie是可以被多个浏览器代理所共享的。
    * Session是服务器保持状态的方法。首先需要明确的是，Session保存在服务器上，可以保存在数据库、文件或内存中，每个用户有独立的Session用户在客户端上记录用户的操作。我们可以理解为每个用户有一个独一无二的Session ID作为Session文件的Hash键，通过这个值可以锁定具体的Session结构的数据，这个Session结构中存储了用户操作行为。
    当服务器需要识别客户端时就需要结合Cookie了。每次HTTP请求的时候，客户端都会发送相应的Cookie信息到服务端。实际上大多数的应用都是用Cookie来实现Session跟踪的，第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在Cookie里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器，我就知道你是谁了。
    如果客户端的浏览器禁用了Cookie，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如sid=xxxxx这样的参数，服务端据此来识别用户，这样就可以帮用户完成诸如用户名等信息自动填入的操作了。

4. HTTPS,SSL/TLS握手的过程
    SSL/TLS:SSL 是洋文“Secure Sockets Layer”的缩写，中文叫做“安全套接层”。它是在上世纪90年代中期，由网景公司设计的。到了1999年，SSL 因为应用广泛，已经成为互联网上的事实标准。IETF 就在那年把 SSL 标准化。标准化之后的名称改为 TLS（是“Transport Layer Security”的缩写），中文叫做“传输层安全协议”。很多相关的文章都把这两者并列称呼（SSL/TLS），因为这两者可以视作同一个东西的不同阶段。
    HTTPS在进行三次握手建立连接之后还要进行SSL/TLS握手：
    客户端向服务端发生一个client hello明文信息，client hello中主要包含TLS/SSL协议版本，加密套件候选表，压缩算法候选表，客户端随机数，扩展字段等信息。然后服务端回复一个Server hello，返回服务端商议的结果，包含选择的协议版本，加密套件，压缩算法和服务端随机数。然后服务端向客户端发送CA证书，然后发送Server hello done通知客户端Server hello信息发送完毕。客户端会验证证书的合法性，如果验证通过会进行后续的通信，没有通过的话会根据错误信息给出提示。客户端会计算出一个pre-master secret(公共密匙)，然后用证书公匙加密，发送给服务器，并通知服务器后续的通信都将采用协商的密匙和加密算法进行通信。然后结合之前的各种参数，hash值和其他参数产生一段数据，用密匙加密后发送给服务端用于数据验证。服务端解密出pre-master secret数据，基于之前交换的两个明文随机数，计算得到协商密匙，然后计算之前所有的接受信息，解密客户端发送的验证数据，验证数据和密匙的正确性。验证通过后，服务端会回复一个确认，告知客户端后续的通信都将采用协商的密匙与算法进行加密通信。然后服务端也会用收集到的信息加密产生一段数据，发送给客户端。客户端收到数据后进行验证，验证通过则握手完成。

5. ping和tracert实现的原理
    * ping: ping是发射一个ICMP echo请求到目的地址，当目的地址收到这个ICMP echo之后，把目的ip地址和源ip地址进行一个交换，然后回射回去。
    * tracert:Tracert 命令用IP生存时间(TTL)字段和ICMP错误消息来确定从一个主机到网络上其他主机会经过哪些路由，首先tracert会送出以TTL为1的IP数据包到目的地，当路径上的第一个路由器收到这个数据包时，它将TTL减1。此时，TTL变为0，所以该路由器会将此数据包丢掉，并送回一个「ICMP time exceeded」消息（包括发IP包的源地址，IP包的所有内容及路由器的IP地址），tracert 收到这个消息后，便知道这个路由器存在于这个路径上，接着tracert再送出另一个TTL是2的数据包，发现第2个路由器......tracert每次将送出的数据包的TTL加1来发现下一个路由器，当数据包到达目的地后，该主机则不会送回ICMP time exceeded消息，一旦到达目的地，由于tracert通过UDP数据包向不常见端口(30000以上)发送数据包，因此会收到「ICMP port unreachable」消息，故可判断到达目的地。tracert 有一个固定的时间等待响应(ICMP TTL到期消息)。如果这个时间过了，它将打印出一系列的*号表明：在这个路径上，这个设备不能在给定的时间内发出ICMP TTL到期消息的响应。然后，Tracert给TTL记数器加1，继续进行。
    * ping可以用来判断一个ip地址是否处于联通状态，tracert可以用来判定网络中哪一环出现了问题，如果某一节点能成功到，而后面的全部超时，可以判断得出，这一节点的下一节点出现问题。tracert中出现超时，下一跳仍能成功的原因是可能这一个节点禁止了对超时ip数据报做处理，但是仍然能正常的转发。
    
6. IP地址和MAC地址
	
	* IP地址：IP地址是指使用TCP/IP协议制定给主机的32位地址，通常使用点分十进制表示。
	* MAC地址：在OSI七层网络模型中，第二层为数据链路层，数据链路层有两个子层，上层为LLC逻辑链路控制层，下层为MAC介质访问控制层。MAC地址也叫物理地址、硬件地址或链路地址。由网络设备制造商生产时写在硬件内部，这个地址与网络无关且一般不可更改。长度为48位，表示为12个16进制数。
	* 联系：IP地址应用于第三层网络层，而MAC地址应用在第二层数据链路层。 数据链路层协议可以使数据从一个节点传递到相同链路的另一个节点上（通过MAC地址），而网络层协议使数据可以从一个网络传递到另一个网络上（ARP根据目的IP地址，找到中间节点的MAC地址，通过中间节点传送，从而最终到达目的网络）。


7. 物理层
8. 数据链路层
    * ppp协议
    * 以太网协议
      - 以太网是局域网的一种，以太网技术的正式标准是IEEE 802.3标准。
9. 网络层
    * IP
    * ARP、RARP
    * ICMP--ping和tracert
10. 传输层
    * TCP、UDP
11. 应用层
    * HTTP、HTTPS、FTP、SMTP
>>>>>>> 05701123ca4bc7e02e7b8f392ccdcc4c1cc9053f
